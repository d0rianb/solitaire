import{a as e,Z as t,Q as s,S as i,b as a}from"./vendor.835954c3.js";var l,r;!function(e=".",t="__import__"){try{self[t]=new Function("u","return import(u)")}catch(s){const i=new URL(e,location),a=e=>{URL.revokeObjectURL(e.src),e.remove()};self[t]=e=>new Promise(((s,l)=>{const r=new URL(e,i);if(self[t].moduleMap[r])return s(self[t].moduleMap[r]);const n=new Blob([`import * as m from '${r}';`,`${t}.moduleMap['${r}']=m;`],{type:"text/javascript"}),o=Object.assign(document.createElement("script"),{type:"module",src:URL.createObjectURL(n),onerror(){l(new Error(`Failed to import: ${e}`)),a(o)},onload(){s(self[t].moduleMap[r]),a(o)}});document.head.appendChild(o)})),self[t].moduleMap={}}}("/assets/"),(r=l||(l={}))[r.None=1]="None",r[r.Pion=2]="Pion",r[r.Empty=4]="Empty",r[r.Selected=8]="Selected",r[r.Moving=16]="Moving";window.onclick=e=>{let t=h.cells.find((t=>{const s=h.x+t.x*h.dim/7,i=h.y+t.y*h.dim/7;if((s-e.clientX)**2+(i-e.clientY)**2<=300)return t}));if(!t)return;let s=h.cells.find((e=>8==(8&e.state)));if(s||2!=(2&t.state)){if(s)if(i=s,a=t,h.cells.filter((e=>e.x==i.x&&(e.y==i.y+2||e.y==i.y-2)||e.y==i.y&&(e.x==i.x+2||e.x==i.x-2))).includes(a)&&4==(4&a.state)){let e=h.grid.get(Math.min(s.x,t.x)+Math.abs(Math.ceil((s.x-t.x)/2)),Math.min(s.y,t.y)+Math.abs(Math.ceil((s.y-t.y)/2)));if(2!=(2&e.state))return;e.state&=-3,e.state|=4,t.state&=-5,t.state&=-9,t.state|=2,s.state&=-3,s.state&=-9,s.state|=4}else t.state&=-9,s.state&=-9}else t.state|=8;var i,a};let{width:n,height:o}=a();e.create(n,o);const c=new t("Solitaire"),d=Math.min(n,o),m=1*d/10,h=new class{constructor(e,t,s,a){this.x=e,this.y=t,this.dim=Math.min(s,a),this.grid=new i(7,7),this.cells=this.grid.cells,this.cells.forEach((e=>e.state=2)),this.grid.get(3,3).state=4,this.cells.forEach((e=>{(e.x<2||e.x>=5)&&(e.y<2||e.y>=5)&&(e.state=1)}))}render(){s.getItems().forEach(((e,t)=>{const s=e.callback(),i=document.querySelector(`.ue-interface #item-${t+1}`);i&&i.innerText!==s&&(i.innerText=s)})),e.clear();for(let t=0;t<7;t++){const s=this.x+t*this.dim/7;for(let i=0;i<7;i++){const a=this.y+i*this.dim/7,l=this.grid.get(t,i);if(l&&2==(2&l.state)){let t=8==(8&l.state)?"#66c5ed":"#222";e.circle(s,a,5,{fillStyle:t,strokeStyle:t})}else l&&4==(4&l.state)&&e.circle(s,a,5,{fillStyle:"#eee",strokeStyle:"#eee"})}}e.endFrame()}}((n-d)/2+m,(o-d)/2+m,n-m,o-m);s.addItem((()=>`Nombre de pion restants: ${h.cells.filter((e=>2==(2&e.state))).length}`),"top-right"),c.setMainLoop((()=>h.render())),c.toggleStats(!1),c.start();
